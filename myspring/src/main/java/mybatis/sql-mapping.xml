<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="a">
	  <select id="memberList" resultType="mybatis.MemberDTO">
	  	select * from members
	  </select>
	  
	  <select id="memberListMonth" resultType="mybatis.MemberDTO" parameterType="String">
		select * from members where extract(month from to_date(regdate, 'YY/MM/dd')) = #{month}
	  </select>
<!-- List<MemberDTO> list = session.selectList() -->
	  <select id="oneMember" resultType="mybatis.MemberDTO" parameterType="String">
	    select * from members where id=#{id}
	  </select>
<!-- MemberDTO dto = session.selectOne(); -->
		<select id="memberCount" resultType="int">
			select count(*) from members
		</select>
		
		<insert id="insertMember">
			insert into members values('mybatis12','마이바',11111,'010-9929-3434','myba@tis.com',sysdate)
		</insert>
		
		<insert id="insertMemberDTO" parameterType="memberDTO">
			insert into members values(#{id},#{name},#{pw},#{phone},#{email},sysdate)
		</insert>
		
		<update id="updateMember" parameterType="memberdto">
			update members set pw=#{pw}, phone=#{phone}, email=#{email} where id=#{id}
		</update>
		
		<delete id="deleteMember" parameterType="String">
			delete from members where id=#{id}
		</delete>
  </mapper>